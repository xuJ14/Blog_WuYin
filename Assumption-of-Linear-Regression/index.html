<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/gallery/avator.svg">
  <link rel="icon" type="image/png" sizes="16x16" href="/gallery/avator.svg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="Lr_u9ltNAl44yHB3jiDZo_D4g7u1IrCztvoySOZJeis">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/black/pace-theme-center-simple.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"xuj14.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.12.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Describe the assumption of Linear Regression and how to deal with the violation.">
<meta property="og:type" content="article">
<meta property="og:title" content="Assumption of Linear Regression">
<meta property="og:url" content="https://xuj14.github.io/Assumption-of-Linear-Regression/index.html">
<meta property="og:site_name" content="午尹">
<meta property="og:description" content="Describe the assumption of Linear Regression and how to deal with the violation.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-12-10T17:50:11.000Z">
<meta property="article:modified_time" content="2022-08-12T05:57:33.260Z">
<meta property="article:author" content="Jun XU">
<meta property="article:tag" content="Mathematics">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://xuj14.github.io/Assumption-of-Linear-Regression/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://xuj14.github.io/Assumption-of-Linear-Regression/","path":"Assumption-of-Linear-Regression/","title":"Assumption of Linear Regression"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Assumption of Linear Regression | 午尹</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SJCKHPPPPQ"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-SJCKHPPPPQ","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end -->
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">午尹</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Quant</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">7</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">5</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">25</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#linear-regression"><span class="nav-number">1.</span> <span class="nav-text">Linear Regression</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%80%E5%B0%8F%E4%BA%8C%E4%B9%98%E4%BC%B0%E8%AE%A1least-squarels"><span class="nav-number">2.</span> <span class="nav-text">最小二乘估计Least Square（LS）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#gauss-markov-theorem"><span class="nav-number">2.1.</span> <span class="nav-text">Gauss-Markov Theorem</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%A4%E5%85%B8%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%81%87%E8%AE%BE"><span class="nav-number">3.</span> <span class="nav-text">古典线性回归模型的假设</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E6%80%A7%E8%B4%A8"><span class="nav-number">4.</span> <span class="nav-text">一些基本性质</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#violation-and-misappropriation"><span class="nav-number">5.</span> <span class="nav-text">Violation and
Misappropriation</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#errors-are-correlated-or-have-unequal-variance"><span class="nav-number">5.1.</span> <span class="nav-text">Errors are
correlated or have unequal variance</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#error-distribution-is-long-tailed"><span class="nav-number">5.2.</span> <span class="nav-text">Error distribution is
long-tailed</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#predictors-are-highly-correlated-collinear"><span class="nav-number">5.3.</span> <span class="nav-text">Predictors are
highly correlated (collinear)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A6%82%E6%9E%9C%E8%BF%9D%E8%83%8C%E4%BA%86%E5%81%87%E8%AE%BE%E6%9D%A1%E4%BB%B6"><span class="nav-number">6.</span> <span class="nav-text">如果违背了假设条件：</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jun XU"
      src="/gallery/avator.jpg">
  <p class="site-author-name" itemprop="name">Jun XU</p>
  <div class="site-description" itemprop="description">Financial Engineering | Machine Learning</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">25</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/xuJ14" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xuJ14" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jun.xu14@gmail.com" title="E-Mail → mailto:jun.xu14@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/xuJ14" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://xuj14.github.io/Assumption-of-Linear-Regression/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/gallery/avator.jpg">
      <meta itemprop="name" content="Jun XU">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="午尹">
      <meta itemprop="description" content="Financial Engineering | Machine Learning">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Assumption of Linear Regression | 午尹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Assumption of Linear Regression
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-12-10 12:50:11" itemprop="dateCreated datePublished" datetime="2021-12-10T12:50:11-05:00">2021-12-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-08-12 01:57:33" itemprop="dateModified" datetime="2022-08-12T01:57:33-04:00">2022-08-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Mathematics/" itemprop="url" rel="index"><span itemprop="name">Mathematics</span></a>
        </span>
    </span>

  
    <span id="/Assumption-of-Linear-Regression/" class="post-meta-item leancloud_visitors" data-flag-title="Assumption of Linear Regression" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>4k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>4 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="linear-regression">Linear Regression</h1>
<p>线性模型通常是：<span class="math inline">\(Y=f\left(X_{1}, X_{2},
X_{3}\right)+\varepsilon\)</span>的形式。这里predictor本身不需要一定是线性的，可以通过一些transform的形式，将非线性的关系转变为线性的。
线性模型的矩阵表达：<span class="math inline">\(y=X
\beta+\varepsilon\)</span>，这里y为n×1的矩阵。
那么接下来问题就是如何估计β，以尽可能多的用x解释y。在本文中，p为β中参数的个数。</p>
<p>我们用<span class="math inline">\(\hat{y}=X \hat{\beta}\)</span>
表示我们的预测值（predicted or fitted value），<span class="math inline">\(\hat{\varepsilon} = y-\hat y\)</span>
表示残差（residual）。这样，我们的y是n维，确定的变量是p维，剩下n-p维就是不确定的random
variation（可以用QR分解证明）。不带^的为真实值。</p>
<h1 id="最小二乘估计least-squarels">最小二乘估计Least Square（LS）</h1>
<p><span class="math display">\[
X^{\top} X \hat{\beta}=X^{\top} y
\]</span></p>
<p>上述就是normal equation。</p>
<p>事实上有很多种估计β的方法，但为什么要用最小二乘估计呢，有以下三点原因：</p>
<ol type="1">
<li>它的结果恰好符合：正交投影到模型空间的结果。符合我们的几何直觉。</li>
<li>如果error是独立同分布和正态分布，那么对β的估计与MLE（maximum
likelihood
estimation）的结果相同（结果可由MLE公式推导）。简单来说，MLE是让被观察数据出现的概率最大。</li>
<li>Gauss-Markov Theorem 保证了最小二乘估计的结果<span class="math inline">\(\hat
\beta\)</span>是最优线性无偏估计（BLUE）。</li>
</ol>
<blockquote>
<p><strong>Gauss-Markov Theorem</strong> ：</p>
<p>If the errors in the linear regression model are
<strong>uncorrelated不相关</strong>, have <strong>equal
variances同方差</strong> and <strong>expectation value of
zero期望为0</strong>:</p>
<p>Then the ordinary least squares (OLS) estimator has <strong>the
lowest sampling variance within the class of linear unbiased
estimators</strong>.</p>
<p><strong>Note:</strong> The errors do not need to be normal, nor do
they need to be independent and identically distributed (only
uncorrelated with mean zero and homoscedastic with finite variance). The
requirement that the estimator be unbiased cannot be dropped, since
biased estimators exist with lower variance. See, for example, the
James–Stein estimator (which also drops linearity), ridge regression, or
simply any degenerate estimator.</p>
</blockquote>
<h2 id="gauss-markov-theorem">Gauss-Markov Theorem</h2>
<p>假设：<span class="math inline">\(E \varepsilon=0\)</span>，<span class="math inline">\(\operatorname{Var} \varepsilon=\sigma^{2}
I\)</span>。</p>
<p>公式1是LS得到的对β的估计。这时，我们并不知道β这个估计怎么样。那么有下述几条推论，他们的证明参见这里。</p>
<p>首先，我们定义Estimable Function：</p>
<blockquote>
<p><strong>Estimable Function</strong>：如果存在a，使得<span class="math inline">\(E a^{\top} y=q^{\top}
\beta\)</span>成立，其中q是已知的，那么我们说<span class="math inline">\(q^\top\beta\)</span>是estimable function。</p>
</blockquote>
<blockquote>
<p><strong>Theorem 1:</strong> <span class="math inline">\(q^\top
\beta\)</span> is estimable, if and only if there exists a vector t such
that <span class="math inline">\(q^\top=t^\top X\)</span>.</p>
</blockquote>
<p>证明见<a target="_blank" rel="noopener" href="https://ecommons.cornell.edu/bitstream/handle/1813/32309/BU-213-M.pdf">P3</a></p>
<blockquote>
<p><strong>Theorem 2:</strong> <span class="math inline">\(q^\top
\beta\)</span> is estimable, if and only if <span class="math inline">\(X^{\top} X u=q\)</span> has solution for u.</p>
</blockquote>
<p>证明见<a target="_blank" rel="noopener" href="https://ecommons.cornell.edu/bitstream/handle/1813/32309/BU-213-M.pdf">P3</a>.
另判断非齐次线性方程组是否有解，需要比较系数矩阵和增广矩阵的秩的大小，这时若系数矩阵的行列式为0，说明有可能无解，也有可能有无穷多解。</p>
<blockquote>
<p><strong>Theorem 3:</strong> If <span class="math inline">\(q^\top
\beta\)</span> is estimable, then <span class="math inline">\(q^\top
\hat\beta\)</span> is an unbiased estimator of <span class="math inline">\(q^\top\beta\)</span>, and this solution <span class="math inline">\(\hat\beta\)</span> is invariant with the solution
of <span class="math inline">\(X^{\top} X \hat\beta=X^\top
y\)</span>.</p>
</blockquote>
<p>简单说，如果<span class="math inline">\(q^\top \beta\)</span> 是
estimable，那么我们只需要找到任意一个符合<span class="math inline">\(X^{\top} X \hat\beta=X^\top y\)</span>的解<span class="math inline">\(\hat \beta\)</span>，这样<span class="math inline">\(q^\top \hat\beta\)</span> 就是<span class="math inline">\(q^\top\beta\)</span> 的无偏估计。</p>
<p>证明见<a target="_blank" rel="noopener" href="https://ecommons.cornell.edu/bitstream/handle/1813/32309/BU-213-M.pdf">P4</a></p>
<blockquote>
<p><strong>Theorem 4: </strong> Of all unbiased linear estimators of the
estimable function, <span class="math inline">\(q^\top\hat\beta\)</span>
have the smallest variance.</p>
</blockquote>
<p>简单说，<span class="math inline">\(q^\top \beta\)</span>
的所有无偏估计里，<span class="math inline">\(q^\top \hat \beta\)</span>
的方差是最小的，也就是估计最稳定的，最优的。</p>
<p>证明见<a target="_blank" rel="noopener" href="https://ecommons.cornell.edu/bitstream/handle/1813/32309/BU-213-M.pdf">P5</a></p>
<p>综上，<span class="math inline">\(\hat \beta\)</span> 是<span class="math inline">\(\beta\)</span> 的BLUE（best linear unbiased
estimation），最优线性无偏估计。</p>
<h1 id="古典线性回归模型的假设">古典线性回归模型的假设</h1>
<ol type="1">
<li>线性模型</li>
<li><span class="math inline">\(E[\varepsilon \mid
X]=0\)</span>，由此可得X与ε是uncorrelated，并且error期望为0.
Exogeneity</li>
<li>X是linearly independent线性无关，<span class="math inline">\(\operatorname{Pr}(\operatorname{rank}(X)=p)=1\)</span>。如果这个假设被违背，那么说明X线性相关（or
perfectly multicollinear）</li>
<li><span class="math inline">\(\operatorname{Var}(\varepsilon \mid
X)=\sigma^{2} I_{n}\)</span>，意味着
<ul>
<li>方差齐性，<span class="math inline">\(E\left(\varepsilon_{i}^{2}
\mid X\right)=\sigma^{2}\)</span></li>
<li>没有自相关性（autocorrelation），即不同观测的error是不相关的（uncorrelated）：<span class="math inline">\(E\left[\varepsilon_{i} \varepsilon_{j} \mid
X\right]=0\)</span>，for <span class="math inline">\(i\ne
j\)</span>。</li>
</ul></li>
<li>有些地方，还会有这样一个假设：被观测对象(x,y)是独立同分布iid。这意味着所有的样本，是遵循随机采样的原则选出来的。</li>
</ol>
<h1 id="一些基本性质">一些基本性质</h1>
<ol type="1">
<li><p>projection matrix：<span class="math inline">\(H=X\left(X^{\top}
X\right)^{-1} X^{\top}\)</span></p>
<ul>
<li><span class="math inline">\(H^\top = H\)</span></li>
</ul></li>
<li><p>fitted values: <span class="math inline">\(\hat{y}=X
\hat{\beta}=H y\)</span></p>
<ul>
<li>我们可以理解这个式子为把y投影到X空间里，这样误差就位于正交于X的空间里。</li>
</ul></li>
<li><p>residuals: <span class="math inline">\(\hat{\varepsilon}=y-\hat{y}=(I-H)
y\)</span></p></li>
<li><p>基于上述假设，推出：</p>
<ul>
<li><p><span class="math inline">\(\hat{\beta} \sim N\left(\beta,
\sigma^{2}\left(X^{\top} X\right)^{-1}\right)\)</span></p>
<ul>
<li><p><span class="math inline">\(\operatorname{Var}(\hat{\beta})=\left(X^{\top}
X\right)^{-1} \sigma^{2}\)</span>，证明见STATS 500 ch2课件P28</p></li>
<li><p><span class="math inline">\(\operatorname{Var}\left(\hat{\beta}_{j}\right)=\left(X^{\top}
X\right)_{j j}^{-1} \sigma^{2}\)</span></p></li>
</ul></li>
<li><p><span class="math inline">\(\hat{\sigma}^{2} \sim
\frac{\sigma^{2}}{n-p} \cdot \chi_{n-p}^{2}\)</span></p>
<ul>
<li><span class="math inline">\(\hat{\sigma}^2=\frac{\sum\left(y_{i}-\hat{y}_{i}\right)^{2}}{n-p}\)</span>作为<span class="math inline">\(\sigma^2\)</span>的无偏估计量，这里n-p是自由度，<span class="math inline">\(E(\hat\sigma^2)=\sigma^2\)</span>，证明过程同证明<span class="math inline">\(E\left(\hat{\varepsilon}
\hat{\varepsilon}^{\top}\right)=(n-p) \sigma^{2}\)</span>，参见STATS
500作业3第2题。</li>
</ul></li>
</ul></li>
</ol>
<h1 id="violation-and-misappropriation">Violation and
Misappropriation</h1>
<h2 id="errors-are-correlated-or-have-unequal-variance">Errors are
correlated or have unequal variance</h2>
<p>Generalized least squares</p>
<h2 id="error-distribution-is-long-tailed">Error distribution is
long-tailed</h2>
<h2 id="predictors-are-highly-correlated-collinear">Predictors are
highly correlated (collinear)</h2>
<p>线性无关不代表基向量正交</p>
<p>只有perfect multicolinearty才会没有矩阵的逆，从而无法求解</p>
<p>X线性无关，并不代表没有相关性</p>
<p>什么是无偏估计</p>
<p>方差的无偏估计：</p>
<p>引出自由度</p>
<h1 id="如果违背了假设条件">如果违背了假设条件：</h1>
<p>如果相关：</p>
<p>如果异方差</p>
<p>如果期望不为0</p>
<p>如果不服从正态分布</p>

    </div>

    
    
    
      

  <div class="popular-posts-header">Related Posts</div>
  <ul class="related-posts">
  
      <li class="related-posts-item"><a href="/Caculus-Review/">Caculus Review</a></li>
  
  </ul>


    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>Post author:  </strong>Jun XU
  </li>
  <li class="post-copyright-link">
      <strong>Post link: </strong>
      <a href="https://xuj14.github.io/Assumption-of-Linear-Regression/" title="Assumption of Linear Regression">https://xuj14.github.io/Assumption-of-Linear-Regression/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/Mathematics/" rel="tag"><i class="fa fa-tag"></i> Mathematics</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/Reading-List/" rel="prev" title="Reading List">
                  <i class="fa fa-chevron-left"></i> Reading List
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/Citadel-Central-Datathon-2021/" rel="next" title="Citadel Central Regional Datathon 2021">
                  Citadel Central Regional Datathon 2021 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jun XU</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>Symbols count total: </span>
    <span title="Symbols count total">178k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>Reading time total &asymp;</span>
    <span title="Reading time total">2:42</span>
  </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.8/pdfobject.min.js","integrity":"sha256-tu9j5pBilBQrWSDePOOajCUdz6hWsid/lBNzK4KgEPM="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>



  <script src="/js/third-party/pace.js"></script>

  


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"Oe6lNLDUFdCT4aO5HYh597Om-MdYXbMMI","app_key":"2dnAg0FTC6n2hMWsLlwd2Ncj","server_url":"https://xuj14.github.io/","security":true}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>


  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body>
</html>
